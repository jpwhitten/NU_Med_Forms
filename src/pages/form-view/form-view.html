<ion-header>

  <ion-navbar secondary>
    <ion-title>{{form.label}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

   <form [formGroup]="formSlides">

  <ion-slides pager #slides>
    <ion-slide *ngFor="let question of form.questions; let i = index;">
     

      <p id="question_title"> {{ question.label }} </p>

      <div *ngIf="question.fieldType == 15 || question.fieldType == 8">
        <ion-list formControlName="{{question.id}}" (click)="form.answerQuestion()" radio-group [(ngModel)]="question.answer">
          <ion-item *ngFor="let choice of question.choices">
            <ion-label>{{ choice.text }}</ion-label>
            <ion-radio (click)="answerQuestion(i)" value="{{ choice.value }}"></ion-radio>
          </ion-item>
        </ion-list>
      </div>

      <div *ngIf="question.fieldType == 1" id="text-area">
        <ion-item>
          <ion-label floating>Answer Here</ion-label>
          <ion-input formControlName="{{question.id}}" (blur)="form.answerQuestion(); answerQuestion(i)" [(ngModel)]="question.answer" ></ion-input>
        </ion-item>
      </div>

      <div *ngIf="question.fieldType == 2" id="text-area">
        <ion-item>
          <ion-label floating>Answer Here</ion-label>
          <ion-textarea formControlName="{{question.id}}" (blur)="form.answerQuestion(); answerQuestion(i)" [(ngModel)]="question.answer"></ion-textarea>
        </ion-item>
      </div>

      <div *ngIf="question.fieldType == 4">
        <ion-list>
          <ion-item *ngFor="let choice of question.choices; let j = index;">
            <ion-label>{{ choice.text }} </ion-label>
            <ion-checkbox formControlName="{{question.id}}" (click)="form.answerQuestion(); answerQuestion(i)" [(ngModel)]="question.answer[j]"></ion-checkbox>
          </ion-item>
        </ion-list>
      </div>

      <div *ngIf="question.fieldType == 6" class="drop-down">
        <ion-select formControlName="{{question.id}}" [(ngModel)]="question.answer" placeholder="Select">
          <ion-option (ionSelect)="form.answerQuestion(); answerQuestion(i)" *ngFor="let choice of question.choices" >{{ choice.text }}</ion-option>
        </ion-select>
      </div>

      <div *ngIf="question.fieldType == 7" class="drop-down">
        <ion-select formControlName="{{question.id}}" multiple="true" [(ngModel)]="question.answer" placeholder="Select">
          <ion-option (ionSelect)="form.answerQuestion(); answerQuestion(i)" *ngFor="let choice of question.choices" >{{ choice.text }}</ion-option>
        </ion-select>
      </div>

      <div *ngIf="question.fieldType == 10">
        <ion-label>Select Date</ion-label>
        <ion-datetime formControlName="{{question.id}}" (ionChange)="form.answerQuestion(); answerQuestion(i)" displayFormat="MM/DD/YYYY" [(ngModel)]="question.answer"></ion-datetime>
      </div>      

      <button (click)="showValue(i)"> Show Value </button>


      </ion-slide>
    


    <ion-slide>
      <p> Confimation screen </p>
      <button (click)="takePhoto()"> Photo Confirmation </button>
      <img style="width:50%;height:40%" [src]="base64Image"  *ngIf="base64Image"/>
       <button (click)="submitForm()"> Submit </button>
       <p *ngIf="hasInvalidAnswers()">{{invalidAnswers}}</p>
    </ion-slide>

  </ion-slides>

   </form>

  <button (click)="showAllValue()"> Show All Value </button>
  <button (click)="checkForm()"> Check Form </button>


    <ion-scroll scrollX="true"  style="width:100%;height:60px;" >    
        <ion-row>
            <ion-col width-5 *ngFor="let question of form.questions; let i = index">
                <button [class.btn-invalid]="(isDirtyAnswer(i) && isInvalidAnswer(i)) || (question.isDirty && !question.hasValidAnswer)" [class.btn-valid]="(isDirtyAnswer(i) && !isInvalidAnswer(i)) || question.hasValidAnswer" large (click)="jumpToQuestion(i)"> Q {{i}}  </button>
            </ion-col> 
        </ion-row>
    </ion-scroll>



</ion-content>
